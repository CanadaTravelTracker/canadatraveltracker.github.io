<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support - Canada Travel Tracker</title>
    <meta name="description"
        content="Support and FAQs for Canada Travel Tracker. Get help with tracking your physical presence, citizenship eligibility, and PR obligations.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@500,700,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Satoshi', 'sans-serif'],
                        mono: ['SF Mono', 'Menlo', 'monospace'],
                    },
                    colors: {
                        canvas: '#FDFCFB',
                        charcoal: '#1A1A1A',
                        muted: '#636E72',
                        maple: '#D52B1E',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-canvas text-charcoal antialiased">

    <nav class="w-full border-b border-gray-100 bg-white/80 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 h-16 flex items-center justify-between">
            <a href="index.html" class="flex items-center gap-2 hover:opacity-70 transition-opacity">
                <div class="w-6 h-6 rounded bg-maple flex items-center justify-center text-white text-[10px]">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <span class="font-bold text-lg tracking-tight text-charcoal">Canada Travel Tracker</span>
            </a>
            <div class="flex items-center gap-4 md:gap-8">
                <a href="index.html" class="text-sm font-bold text-muted hover:text-charcoal transition-colors">Home</a>
                <a href="privacy.html"
                    class="hidden sm:block text-sm font-bold text-muted hover:text-charcoal transition-colors">Privacy</a>
                <a href="index.html#download" id="nav-cta-button"
                    class="bg-charcoal text-white px-4 md:px-5 py-2 rounded-full text-xs md:text-sm font-bold hover:bg-black transition-all">
                    Get the App
                </a>
            </div>
        </div>
    </nav>

    <main class="max-w-3xl mx-auto px-6 py-20">
        <h1 class="text-4xl font-black mb-10">Care & Support</h1>

        <div class="space-y-12">
            <!-- Contact Form -->
            <section class="bg-white p-8 md:p-12 rounded-[2.5rem] border border-gray-100 shadow-sm">
                <h2 class="text-2xl font-bold mb-8 text-center">Send us a Message</h2>
                <form id="contact-form" action="https://formspree.io/f/mzdrgnzn" method="POST"
                    enctype="multipart/form-data" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label for="full-name" class="text-sm font-bold text-charcoal ml-1">Full Name</label>
                            <input type="text" name="name" id="full-name" required
                                class="w-full px-5 py-4 rounded-2xl bg-canvas border border-gray-100 focus:border-maple focus:ring-1 focus:ring-maple outline-none transition-all text-sm"
                                placeholder="Alexander Mackenzie">
                        </div>
                        <div class="space-y-2">
                            <label for="email" class="text-sm font-bold text-charcoal ml-1">Email Address</label>
                            <input type="email" name="email" id="email" required
                                class="w-full px-5 py-4 rounded-2xl bg-canvas border border-gray-100 focus:border-maple focus:ring-1 focus:ring-maple outline-none transition-all text-sm"
                                placeholder="alex@example.com">
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label for="subject" class="text-sm font-bold text-charcoal ml-1">Topic</label>
                        <select name="subject" id="subject" required
                            class="w-full px-5 py-4 rounded-2xl bg-canvas border border-gray-100 focus:border-maple focus:ring-1 focus:ring-maple outline-none transition-all text-sm appearance-none">
                            <option value="General Inquiry">General Inquiry</option>
                            <option value="Bug Report">Bug Report / Technical Issue</option>
                            <option value="Billing">Billing / Pro Subscription</option>
                            <option value="Feature Request">Feature Request</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <!-- Dynamic File Upload for Bug Reports -->
                    <div id="file-upload-container"
                        class="hidden space-y-2 animate-in fade-in slide-in-from-top-2 duration-300">
                        <label for="upload" class="text-sm font-bold text-charcoal ml-1">Attachment
                            (Screenshot/Log)</label>
                        <input type="file" name="upload" id="upload"
                            class="w-full px-5 py-3 rounded-2xl bg-canvas border border-gray-100 focus:border-maple focus:ring-1 focus:ring-maple outline-none transition-all text-xs file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-black file:bg-maple/10 file:text-maple hover:file:bg-maple/20 cursor-pointer">
                    </div>
                    <div class="space-y-2">
                        <label for="message" class="text-sm font-bold text-charcoal ml-1">Message</label>
                        <textarea name="message" id="message" rows="4" required
                            class="w-full px-5 py-4 rounded-2xl bg-canvas border border-gray-100 focus:border-maple focus:ring-1 focus:ring-maple outline-none transition-all text-sm"
                            placeholder="How can we help you stay on track?"></textarea>
                    </div>
                    <button type="submit" id="submit-button"
                        class="w-full bg-charcoal text-white py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-lg flex items-center justify-center gap-2">
                        <span>Send Message</span>
                        <i class="fas fa-paper-plane text-xs"></i>
                    </button>
                </form>
                <div id="form-status" class="hidden mt-6 p-4 rounded-2xl text-center font-bold text-sm"></div>
            </section>

            <script>
                const form = document.getElementById("contact-form");
                const status = document.getElementById("form-status");
                const button = document.getElementById("submit-button");
                const subjectSelect = document.getElementById("subject");
                const fileUploadContainer = document.getElementById("file-upload-container");

                // Toggle file upload visibility based on subject
                subjectSelect.addEventListener("change", function () {
                    if (this.value === "Bug Report") {
                        fileUploadContainer.classList.remove("hidden");
                    } else {
                        fileUploadContainer.classList.add("hidden");
                        document.getElementById("upload").value = ""; // Clear file if switching away
                    }
                });

                async function handleSubmit(event) {
                    event.preventDefault();
                    status.classList.remove("hidden", "bg-green-50", "text-green-700", "bg-red-50", "text-red-700");
                    button.disabled = true;
                    button.innerHTML = '<span>Sending...</span><i class="fas fa-circle-notch fa-spin text-xs"></i>';

                    const data = new FormData(event.target);
                    fetch(event.target.action, {
                        method: form.method,
                        body: data,
                        headers: {
                            'Accept': 'application/json'
                        }
                    }).then(response => {
                        if (response.ok) {
                            status.innerHTML = "Thanks! Your message has been sent. We'll get back to you soon.";
                            status.classList.add("bg-green-50", "text-green-700", "block");
                            form.reset();
                            fileUploadContainer.classList.add("hidden"); // Reset visibility
                            button.hidden = true;
                        } else {
                            response.json().then(data => {
                                if (Object.hasOwn(data, 'errors')) {
                                    status.innerHTML = data["errors"].map(error => error["message"]).join(", ");
                                } else {
                                    status.innerHTML = "Oops! There was a problem submitting your form";
                                }
                                status.classList.add("bg-red-50", "text-red-700", "block");
                                button.disabled = false;
                                button.innerHTML = '<span>Send Message</span><i class="fas fa-paper-plane text-xs"></i>';
                            })
                        }
                    }).catch(error => {
                        status.innerHTML = "Oops! There was a problem submitting your form";
                        status.classList.add("bg-red-50", "text-red-700", "block");
                        button.disabled = false;
                        button.innerHTML = '<span>Send Message</span><i class="fas fa-paper-plane text-xs"></i>';
                    });
                }
                form.addEventListener("submit", handleSubmit)
            </script>



            <!-- FAQs -->
            <section>
                <h2 class="text-xl font-black mb-8 border-b border-gray-100 pb-4 uppercase tracking-widest text-muted">
                    Frequently Asked Questions</h2>

                <div class="space-y-8">
                    <div class="group">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-maple transition-colors">Is my data shared
                            with IRCC?</h3>
                        <p class="text-muted leading-relaxed">No. Canada Travel Tracker is a private tool designed for
                            your own organization. We do not transmit any of your travel data to government agencies or
                            any third parties.</p>
                    </div>

                    <div class="group">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-maple transition-colors">How are partial days
                            calculated?</h3>
                        <p class="text-muted leading-relaxed">The app automatically follows IRCC guidelines. Any part of
                            a day spent in Canada counts as a full day. If you were in Canada for only an hour before
                            leaving, it still counts as a day present.</p>
                    </div>

                    <div class="group">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-maple transition-colors">What are Pre-PR
                            credits?
                        </h3>
                        <p class="text-muted leading-relaxed">If you were in Canada as a temporary resident or protected
                            person before becoming a permanent resident, you may get credit for half a day for each day
                            you spent in Canada, up to a maximum of 365 days toward your citizenship application.</p>
                    </div>

                    <div class="group">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-maple transition-colors">How do I back up my
                            data?</h3>
                        <p class="text-muted leading-relaxed">Since the app is local-first, your data stays on your
                            device. We highly recommend using the <strong>"Export Trips to CSV"</strong> feature in
                            Settings to keep a backup in your personal storage or email.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="py-12 border-t border-gray-100 text-center bg-white mt-10">
        <p class="text-xs text-gray-400">Â© 2026 TechWithKev. Built for Future Canadians.</p>
    </footer>

</body>

</html>